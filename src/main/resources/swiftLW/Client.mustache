//
// {{projectName}}Client.swift
//
// Generated by swagger-codegen
// https://github.com/swagger-api/swagger-codegen
//

public class {{projectName}}Client {

    lazy var session = URLSession(configuration: .default, delegate: self, delegateQueue: .main)

    func completionHandler<T: Decodable>(success: @escaping (T) -> Void, failure: @escaping (Error) -> Void) -> (T?, URLResponse?, Error?) -> Void {
        return { (data, response, error) in
            if let data = data {
                DispatchQueue.main.async {
                    success(data)
                }
            } else {
                DispatchQueue.main.async {
                    failure(error ?? {{projectName}}Error(code: -1, message: "Keine Fehlermeldung erhalten."))
                }
            }
        }
    }

}
